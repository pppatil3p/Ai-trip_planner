import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
    systemInstruction: "genrate travel plan for location : las vegas,for 3days for couple with cheap budget ,give me a hotels  options list with hotelname,hotel address,price hotel image url , geo coordinates,ratings,desccriptions and suggest itinearary with placename,place details place image url,geo conditions,ticket pricing,rating,time travel each of the location for 3 days with each day plan with best time to visit in JSON format",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "genrate travel plan for location : las vegas,for 3days for couple with cheap budget ,give me a hotels  options list with hotelname,hotel address,price hotel image url , geo coordinates,ratings,desccriptions and suggest itinearary with placename,place details place image url,geo conditions,ticket pricing,rating,time travel each of the location for 3 days with each day plan with best time to visit in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": { \"range\": \"$50-$150\", \"currency\": \"USD\" },\n      \"hotelImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/CircusCircusLasVegas.jpg/1280px-CircusCircusLasVegas.jpg\", \n      \"geoCoordinates\": { \"latitude\": 36.1209, \"longitude\": -115.1728 },\n      \"ratings\": 3.5,\n      \"description\": \"A budget-friendly option with a classic Vegas vibe, known for its circus acts and affordable rooms.\"\n    },\n    {\n      \"hotelName\": \"Travelodge by Wyndham Las Vegas Center Strip\",\n      \"hotelAddress\": \"3700 W Harmon Ave, Las Vegas, NV 89103\",\n      \"price\": { \"range\": \"$40-$120\", \"currency\": \"USD\" },\n      \"hotelImageUrl\": \"https://www.wyndhamhotels.com/en-US/travelodge/las-vegas-center-strip/overview?cid=SEM|google|gmb|brand|travelodge|NA|NA|NA|NA|10102731&gad_source=1&gclid=Cj0KCQjwtp2iBhC0ARIsAHaY-S2zK9_bX8072eLq0yK7-W87XjY_7tT2b0V4r_T6gQvLhW41YvC4aAuaAmxEALw_wcB\",\n      \"geoCoordinates\": { \"latitude\": 36.1247, \"longitude\": -115.1888 },\n      \"ratings\": 3.0,\n      \"description\": \"Basic but clean rooms, conveniently located near the Strip but further away from the main action.\"\n    },\n    {\n      \"hotelName\": \"Main Street Station Casino, Brewery & Hotel\",\n      \"hotelAddress\": \"200 S Main St, Las Vegas, NV 89101\",\n      \"price\": { \"range\": \"$60-$180\", \"currency\": \"USD\" },\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1a/a4/92/12/main-street-station-casino.jpg?w=1200&h=-1&s=1\",\n      \"geoCoordinates\": { \"latitude\": 36.1672, \"longitude\": -115.1414 },\n      \"ratings\": 4.0,\n      \"description\": \"Historic hotel with a brewery and casino, offering a more local experience outside the bustling Strip.\"\n    }\n\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a vibrant atmosphere, light shows, and street performers.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/FremontStreetExperience_Night.jpg/1280px-FremontStreetExperience_Night.jpg\",\n          \"geoCoordinates\": { \"latitude\": 36.1696, \"longitude\": -115.1406 },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"2-3 hours\",\n          \"bestTime\": \"Evening (for the light shows)\"\n        },\n        {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"An outdoor shopping and entertainment complex made of shipping containers.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Container_Park_Las_Vegas.jpg/1280px-Container_Park_Las_Vegas.jpg\",\n          \"geoCoordinates\": { \"latitude\": 36.1701, \"longitude\": -115.1333 },\n          \"ticketPricing\": \"Free entry, shopping/dining varies\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"1-2 hours\",\n          \"bestTime\": \"Afternoon/Evening\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"plan\": [\n        {\n          \"placeName\": \"The Strip (walking tour)\",\n          \"placeDetails\": \"Walk along the Las Vegas Strip, admiring the iconic hotels and casinos.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/Las_Vegas_Strip_at_night.jpg/1280px-Las_Vegas_Strip_at_night.jpg\",\n          \"geoCoordinates\": { \"latitude\": 36.1146, \"longitude\": -115.1729 },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 5.0,\n          \"timeTravel\": \"4-5 hours\",\n          \"bestTime\": \"Late afternoon/Evening\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Free to enter, stunning seasonal displays\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a0/Bellagio_Conservatory_and_Botanical_Gardens_%282016%29.jpg/1280px-Bellagio_Conservatory_and_Botanical_Gardens_%282016%29.jpg\",\n          \"geoCoordinates\": { \"latitude\": 36.1146, \"longitude\": -115.1745},\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"1 hour\",\n          \"bestTime\": \"Anytime\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"plan\": [\n        {\n          \"placeName\": \"Seven Magic Mountains\",\n          \"placeDetails\": \"Colorful art installation south of Las Vegas. Requires transportation.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/Seven_Magic_Mountains_%28cropped%29.jpg/1280px-Seven_Magic_Mountains_%28cropped%29.jpg\",\n          \"geoCoordinates\": { \"latitude\": 36.0066, \"longitude\": -114.9981 },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.2,\n          \"timeTravel\": \"2-3 hours (including travel time)\",\n          \"bestTime\": \"Anytime, but best in good weather\"\n        },\n        {\n          \"placeName\": \"Neon Museum\",\n          \"placeDetails\": \"A graveyard of vintage Vegas signs.  Guided tours are recommended.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Neon_Museum_Boneyard_Las_Vegas.jpg/1280px-Neon_Museum_Boneyard_Las_Vegas.jpg\",\n          \"geoCoordinates\": { \"latitude\": 36.1489, \"longitude\": -115.1471 },\n          \"ticketPricing\": \"$25-$35 (check website for current prices)\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"1-2 hours\",\n          \"bestTime\": \"Anytime, but maybe avoid hottest part of the day.\"\n        }\n      ]\n    }\n  }\n}\n```\n\n**Important Notes:**\n\n* **Prices are estimates.** Hotel and activity prices fluctuate significantly depending on the season and demand. Always check current pricing on booking sites and official websites.\n* **Transportation:**  The itinerary assumes you will primarily use ride-sharing services (Uber/Lyft) or the public bus system to get around, which is generally cheaper than renting a car in Las Vegas.  For Seven Magic Mountains, you will need a ride-share or taxi.\n* **Food:**  The budget provided doesn't include food.  Consider packing some snacks and drinks to save money, and look for affordable eateries and happy hour deals.\n* **Image URLs:**  These are examples; you may find better quality or more up-to-date images with a quick web search.\n\n\nRemember to book your hotel and potentially tours/tickets in advance, especially during peak season.  Have a great trip!\n"},
          ],
        },
      ],
    });
  
   
  
  